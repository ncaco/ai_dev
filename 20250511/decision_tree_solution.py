"""
결정 트리 분석 및 주어진 문제 해결

1. 데이터 분석

주어진 훈련 데이터를 기반으로 결정 트리를 구축했습니다.
데이터 특성:
- A: 1, 2, 3 (정수)
- B: H, M, L (범주형)
- C: 0, 1 (정수)
- D: F, T (범주형)
- Class: Y, N (클래스 레이블)

2. 결정 트리 구축 과정

결정 트리는 다음 단계로 구축되었습니다:

2.1 전체 데이터의 엔트로피 계산
- 클래스 Y: 5개
- 클래스 N: 5개
- 전체 데이터 엔트로피: -0.5*log2(0.5) - 0.5*log2(0.5) = 1.0

2.2 정보 이득 계산
각 특성에 대해 분할했을 때의 정보 이득을 계산합니다:

A 특성 분석:
- A = 1: 4개 샘플 (Y:1, N:3) -> 엔트로피 = 0.81
- A > 1: 6개 샘플 (Y:4, N:2) -> 엔트로피 = 0.92
- 가중 평균 엔트로피: (4/10)*0.81 + (6/10)*0.92 = 0.88
- 정보 이득: 1.0 - 0.88 = 0.12

B 특성 분석:
- B = H: 3개 샘플 (Y:1, N:2) -> 엔트로피 = 0.92
- B = M: 4개 샘플 (Y:2, N:2) -> 엔트로피 = 1.0
- B = L: 3개 샘플 (Y:2, N:1) -> 엔트로피 = 0.92
- 가중 평균 엔트로피: (3/10)*0.92 + (4/10)*1.0 + (3/10)*0.92 = 0.95
- 정보 이득: 1.0 - 0.95 = 0.05

C 특성 분석:
- C = 0: 3개 샘플 (Y:2, N:1) -> 엔트로피 = 0.92
- C = 1: 7개 샘플 (Y:3, N:4) -> 엔트로피 = 0.98
- 가중 평균 엔트로피: (3/10)*0.92 + (7/10)*0.98 = 0.97
- 정보 이득: 1.0 - 0.97 = 0.03

D 특성 분석:
- D = F: 5개 샘플 (Y:3, N:2) -> 엔트로피 = 0.97
- D = T: 5개 샘플 (Y:2, N:3) -> 엔트로피 = 0.97
- 가중 평균 엔트로피: (5/10)*0.97 + (5/10)*0.97 = 0.97
- 정보 이득: 1.0 - 0.97 = 0.03

2.3 최상의 분할 선택
정보 이득이 가장 큰 특성은 A로, 정보 이득 0.12를 가집니다. 
따라서 A 기준으로 먼저 분할합니다(A <= 1.5).

2.4 하위 트리 구축
A <= 1.5인 경우(왼쪽 서브트리):
- C 특성이 최상의 분할 기준으로 선택됨(C <= 0.5)
- C = 0: Y 클래스로 분류
- C = 1: N 클래스로 분류

A > 1.5인 경우(오른쪽 서브트리):
- A = 2: Y 클래스로 분류 (A <= 2.5)
- A = 3: 다시 D 기준으로 분할
  - D = F: Y 클래스로 분류
  - D = T: N 클래스로 분류

3. 결정 트리 최종 구조
결과적으로 다음과 같은 결정 트리가 생성되었습니다:

A <= 1.5
|-- YES: C <= 0.5
|   |-- YES: Class Y
|   |-- NO: Class N
|-- NO: A <= 2.5
    |-- YES: Class Y
    |-- NO: D <= 0.5
        |-- YES: Class Y
        |-- NO: Class N

4. 테스트 예제 분류

4.1 테스트 예제 1: A = 1, B = ?, C = 0, D = T
트리를 따라가면:
- A = 1 <= 1.5? YES
- C = 0 <= 0.5? YES
- 결과: 클래스 Y

4.2 테스트 예제 2: A = ?, B = M, C = 1, D = F
A 값이 누락되었으므로, 가능한 각 A 값에 대해 결과를 확인합니다:
- A = 1인 경우: 
  - A = 1 <= 1.5? YES
  - C = 1 <= 0.5? NO
  - 결과: 클래스 N
- A = 2인 경우:
  - A = 2 <= 1.5? NO
  - A = 2 <= 2.5? YES
  - 결과: 클래스 Y
- A = 3인 경우:
  - A = 3 <= 1.5? NO
  - A = 3 <= 2.5? NO
  - D = F <= 0.5? YES (D = F는 0으로 매핑됨)
  - 결과: 클래스 Y

따라서 A의 값에 따라 결과가 달라질 수 있습니다. 
A = 1: 클래스 N
A = 2 또는 A = 3: 클래스 Y

결론적으로, 두 번째 예제의 결과는 A의 값을 알아야 정확하게 분류할 수 있습니다.
""" 